dist(X,Y,Z) :- ( X - Y < 0 -> Z is Y - X; Z is X - Y).canstrike( q(X1, Y1), q(X2,Y2) ) :- ( X1 =:= X2; Y1 =:= Y2; dist(X1,X2,Z1), dist(Y1,Y2,Z2), Z1 =:= Z2 ).betw(L, U, X) :- L =< U, X = L.betw(L, U, X) :- L =< U,NEXT is L + 1, betw(NEXT, U, X).cannotstrike( [], q(X,Y) ) :- !,true.cannotstrike( q(T,S), q(X,Y) ) :- not(canstrike(q(T,S), q(X,Y) )).cannotstrike([H|T],q(X,Y)) :- cannotstrike(H,q(X,Y)), cannotstrike(T,q(X,Y)).  queens( I, N, P1, P2 ) :- I =:= 0, !,P2 = []. queens( I, N, P1, P2) :- I > 0, betw(1,N,X), betw(1,N,Y),cannotstrike(P1, q(X,Y)), H = q(X,Y),P11 = [H|P1], P2 = [H|T], P22 = T, NEXT is I - 1,queens( NEXT, N, P11, P22).